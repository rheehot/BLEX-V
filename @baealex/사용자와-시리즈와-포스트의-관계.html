

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    
    <meta name="theme-color" content="#000">
    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <script data-ad-client="ca-pub-1254068519466911" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-113864080-4"></script>
    <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-113864080-4');
    </script>
    
<meta name="description" content="사용자와 시리즈의 관계 사용자는 시리즈를 여러개 가질 수 있다. 시리즈는 오직 한 명의 사용자만 가질 수 있다. 사용자 1 - N 시리즈 시리즈와 포스트의 관계 시리즈는 포스트를 여러개 가질 수 있다. 포스트는 오직 하나의 시리즈만 가질 수 있다. 시리즈 1 - N 포스트 원래는 위 관계가 정석인데 내가 무슨 생각으로 …">
<meta property="og:url" content="https://blex.me/@baealex/%EC%82%AC%EC%9A%A9%EC%9E%90%EC%99%80-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%99%80-%ED%8F%AC%EC%8A%A4%ED%8A%B8%EC%9D%98-%EA%B4%80%EA%B3%84">
<meta property="og:type" content="blog">
<meta property="og:title" content="사용자와 시리즈와 포스트의 관계">
<meta property="og:description" content="사용자와 시리즈의 관계 사용자는 시리즈를 여러개 가질 수 있다. 시리즈는 오직 한 명의 사용자만 가질 수 있다. 사용자 1 - N 시리즈 시리즈와 포스트의 관계 시리즈는 포스트를 여러개 가질 수 있다. 포스트는 오직 하나의 시리즈만 가질 수 있다. 시리즈 1 - N 포스트 원래는 위 관계가 정석인데 내가 무슨 생각으로 …">
<meta property="og:site_name" content="BLEX">
<meta property="og:image" content="https://static.blex.me/title/baealex/2020/1/4/15D3r3.jpg">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="baealex">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="사용자와 시리즈와 포스트의 관계">
<meta name="twitter:url" content="https://blex.me/@baealex/%EC%82%AC%EC%9A%A9%EC%9E%90%EC%99%80-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%99%80-%ED%8F%AC%EC%8A%A4%ED%8A%B8%EC%9D%98-%EA%B4%80%EA%B3%84">
<meta name="twitter:description" content="사용자와 시리즈의 관계 사용자는 시리즈를 여러개 가질 수 있다. 시리즈는 오직 한 명의 사용자만 가질 수 있다. 사용자 1 - N 시리즈 시리즈와 포스트의 관계 시리즈는 포스트를 여러개 가질 수 있다. 포스트는 오직 하나의 시리즈만 가질 수 있다. 시리즈 1 - N 포스트 원래는 위 관계가 정석인데 내가 무슨 생각으로 …">
<meta name="twitter:image" content="https://static.blex.me/title/baealex/2020/1/4/15D3r3.jpg">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.13/css/all.css" integrity="sha384-DNOHZ68U8hZfKXOrtjWvjxusGo9WQnrNx2sqG0tfsghAvtVlRW3tvkXWZh58N9jp" crossorigin="anonymous">
    <link rel="stylesheet" href="https://static.blex.me/assets/library/bootstrap.css">
    <link rel="stylesheet" href="https://static.blex.me/assets/library/prism.css">
    <link rel="stylesheet" href="https://static.blex.me/assets/css/main.css?v=2">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Noto+Serif+KR|Noto+Sans+KR">
    <link rel="icon" href="https://static.blex.me/assets/images/logo.png">
    <title>사용자와 시리즈와 포스트의 관계 – baealex</title>
</head>
<body>
    

<style>.content {margin-top: 20px;} #top-nav {background: rgba(0, 0, 0, 0); position: absolute;}</style>
<div>
    <picture class="post-title-image">
        <img src="https://static.blex.me/title/baealex/2020/1/4/15D3r3.jpg" alt="사용자와 시리즈와 포스트의 관계">
        <div class="post-image-mask mask-off">
            <h1 class="post-headline fade-in"><span class="post-series">'블렉스 이야기' 시리즈</span>사용자와 시리즈와 포스트의 관계</h1>
            <p class="post-date fade-in">2019-12-30 17:47<span>(Last Update: 2020-01-04 15:44)<span></span></span></p>
        </div>
    </picture>
</div>


    
    <nav id="top-nav" class="navbar navbar-expand-sm navbar-dark bg-theme fixed-top">
        <div class="container">
            <a class="navbar-brand" href="https://blex.me">
                <img src="https://static.blex.me/assets/images/logor.png" width="35" height="35" alt="">
            </a>
    
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse justify-content-end" id="navbarNavAltMarkup">
                <ul class="navbar-nav">
                
                    <li class="nav-item">
                        <a class="nav-link" href="/login">로그인 <i class="fas fa-sign-in-alt"></i></a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="/signup">회원가입 <i class="fas fa-users"></i></a>
                    </li>
                
                </ul>
            </div>
        </div>
    </nav>
    
    <div class="container">
        <div class="content">
        
<div class="row">
    <div class="col-lg-2">
        <div class="sticky-top sticky-top-200 sticky-margin-top-40">
    <div class="share">
        <ul class="px-3">
            <li class="mx-4">
                <a id="heart" href="javascript:void(0);" onclick="Posts.like(268);">
                    <i class="far fa-heart"></i>
                </a>
                <a id="like-count" class="mobile-disable text-decoration-none" href="javascript:void(0);" onclick="Posts.like(268)">1<a>
            </a></a></li>
            
            <li class="mx-4">
                <a href="javascript:void(0)" onclick="moveSlide('comment')">
                    <i class="far fa-comment"></i>
                </a>
                <a class="mobile-disable text-decoration-none" href="javascript:void(0)" onclick="moveSlide('comment')">2</a>
            </li>
            
            <li class="mx-4">
                <a href="https://twitter.com/intent/tweet?text=사용자와 시리즈와 포스트의 관계&url=https://blex.me/@baealex/%EC%82%AC%EC%9A%A9%EC%9E%90%EC%99%80-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%99%80-%ED%8F%AC%EC%8A%A4%ED%8A%B8%EC%9D%98-%EA%B4%80%EA%B3%84" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <i class="fab fa-twitter"></i>
                </a>
            </li>
            <li class="mx-4">
                <a href="https://facebook.com/sharer.php?u=https://blex.me/@baealex/%EC%82%AC%EC%9A%A9%EC%9E%90%EC%99%80-%EC%8B%9C%EB%A6%AC%EC%A6%88%EC%99%80-%ED%8F%AC%EC%8A%A4%ED%8A%B8%EC%9D%98-%EA%B4%80%EA%B3%84" onclick="window.open(this.href, 'facebook-share', 'width=550,height=435');return false;">
                    <i class="fab fa-facebook"></i>
                </a>
            </li>
        </ul>
    </div>
</div>
    </div>
    <div class="col-lg-8">
        
        
        <div class="row post-top-meta">
    <a href="/@baealex">
        
        <div class="back-image thumb author-thumb" style="background-image:url(https://static.blex.me/avatar/u/baealex/nJBQ.png)"></div>
        
    </a>
    <div class="author-info">
        <h4><a href="/@baealex">baealex</a><span class="ns ml-2"><i class="fas fa-battery-full"></i> 95%</span></h4>
            
            <p class="author-description">소비적인 일보단 생산적인 일을 추구하며,
좋아하는 일을 잘하고 싶어합니다 😀</p>
            
            <ul class="author-state">
                <li>
                    <img src="https://img.shields.io/badge/-master-purple">
                </li>
                <li onclick="User.follow('baealex')">
                    <img class="follow-badge" src="https://img.shields.io/badge/subscriber-2-red?style=social">
                </li>
            </ul>
            
            <a class="author-email d-block" href="/login">Sign in to view email</a>
            
        <p></p>
    </div>
</div>
        <article class="article noto">
            <h6>사용자와 시리즈의 관계</h6>
<ul>
<li>사용자는 시리즈를 여러개 가질 수 있다.</li>
<li>시리즈는 오직 한 명의 사용자만 가질 수 있다.</li>
<li>사용자 1 - N 시리즈</li>
</ul>
<h6>시리즈와 포스트의 관계</h6>
<ul>
<li>시리즈는 포스트를 여러개 가질 수 있다.</li>
<li>포스트는 오직 하나의 시리즈만 가질 수 있다.</li>
<li>시리즈 1 - N 포스트</li>
</ul>
<p>원래는 위 관계가 정석인데 내가 무슨 생각으로 시리즈와 포스트의 관계를 다대다로 만들어 버렷다. 포스트에다 시리즈를 외래키로 넣었으면 끝날일을... 구현하다가 문득 "앗! 뭔가 잘못됐다"라는 것을 느꼈다. 그래서 일단 멈추고 진지하게 개선할 방법을 찾아야했다. 시리즈와 포스트의 이 잘못된 관계를 개선할 방법을 말이다.</p>
<ul>
<li>시리즈는 포스트를 여러개 가질 수 있다.</li>
<li>포스트는 시리즈를 여러개 가질 수 있다.</li>
</ul>
<p>이미 이러한 관계는 '태그'라는 존재가 수행하고 있으므로 중복되는 관계다. 하지만 곰곰히 생각해보니 시리즈도 여러개면 좋은 경우가 있었다. 예를들어 한 작가가 '소설 A'를 집필하고 외전을 냈다.</p>
<ul>
<li>소설 A 1권</li>
<li>소설 A 2권</li>
<li>소설 A 외전</li>
</ul>
<p>그리고 소설 B를 집필하셨다.</p>
<ul>
<li>소설 B 1권</li>
<li>소설 B 2권</li>
<li>소설 B 3권</li>
<li>소설 B 외전</li>
</ul>
<p>그런데 사람들이 외전을 좋아하면 작가는 '외전 시리즈'를 만들어 사람들에게 제공해 줄 필요가 있다. 이렇게 하려면 어떠한 추가정보가 필요한가?</p>
<ul>
<li>소설 A 외전<ul>
<li>소설 A 시리즈</li>
<li>외전 시리즈</li>
</ul>
</li>
</ul>
<p>소설 A 외전은 아래와 같이 두가지의 시리즈를 가지고 있을 것이다. 사용자가 소설 A 외전에 접근 했을때 사용자가 진정으로 원하는 시리즈는 무엇일까? 1권에 접근했으면 당연히 A 시리즈를 보고 싶은거겠지만 외전에 먼저 접근했다면 외전 시리즈를 보기 위함으로 생각된다.</p>
<ul>
<li>접근한 게시물의 시리즈가 2개일 때<ul>
<li>시리즈의 가장 최상위 게시물이 접근한 게시물인 시리즈를 연결한다.</li>
</ul>
</li>
</ul>
<p>하지만 위와같이 설정한 경우 문제가 있겠다. 소설 A 외전 이후 소설 A 3권을 집필 하셨다면 문제가 커진다. '소설 A 1권'을 통해서 '소설 A 외전'으로 이동한 경우 다음 편으로 무엇을 추천할까? <strong>시리즈를 통해서 다음으로 넘어간 경우 <code>GET</code>으로 <code>series</code>를 보내서 올바른 시리즈를 유도하자</strong></p>
<p>잘못된 관계로 시작했지만 끝은 창대해졌다. 구현만 된다면 말이다. 하지만 걱정되는 건 SEO다... 같은 글이 여러개 복제되면 그닥 좋을 일은 없을텐데... 괜찮은까?... <code>series</code>가 포함된 URL은 <code>noindex</code> 태그를 추가하여 크롤링을 막던지 해야겠다.</p>
        </article>
        <ul class="tag-list noto">
            
            <li><a href="/@baealex/topic/%EA%B0%9C%EB%B0%9C%EB%85%B8%ED%8A%B8">개발노트</a></li>
            
            <li><a href="/@baealex/topic/%EB%B8%94%EB%A0%89%EC%8A%A4">블렉스</a></li>
            
        </ul>
        
            <div class="my-4 noto text-center">
    <hr class="gradient-hr">
    <h5 class="serif py-4">
        <a href="/@baealex/series/%EB%B8%94%EB%A0%89%EC%8A%A4-%EC%9D%B4%EC%95%BC%EA%B8%B0" class="text-decoration-none deep-dark">
            '블렉스 이야기' 시리즈
        </a>
    </h5>
    <div class="row justify-content-between">
        <div class="col-md-6">
        
            <a class="text-decoration-none deep-dark" href="/@baealex/%EC%82%AC%EC%9A%A9%EC%9E%90-%EB%8C%93%EA%B8%80-%ED%83%9C%EA%B7%B8-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98?series=블렉스-이야기">
                <div class="col-md-12 rounded p-3 mt-3 bg-light">
                    <i class="fas fa-arrow-circle-left vivid-purple"></i><br>사용자 댓글 태그 알고리즘
                </div>
            </a>
        
        </div>
        <div class="col-md-6">
        
            <a class="text-decoration-none deep-dark" href="/@baealex/%ED%8F%AC%EC%8A%A4%ED%8A%B8-%EC%B6%94%EC%B2%9C-%EC%95%8C%EA%B3%A0%EB%A6%AC%EC%A6%98?series=블렉스-이야기">
                <div class="col-md-12 rounded p-3 mt-3 bg-light">
                    <i class="fas fa-arrow-circle-right vivid-purple"></i><br>포스트 추천 알고리즘
                </div>
            </a>
        
        </div>
    </div>
</div>
        
    </div>
    <div class="col-lg-2 mobile-disable">
        <div id="article-nav" class="sticky-top sticky-top-100"></div>
    </div>
</div>
</div>
</div>

<div class="py-5 bg-comment">
    <div class="container">
        <div class="col-lg-8 mx-auto px-0">
            
            <div id="comment">
                
                    <div>
    <div class="comment-list s-shadow">
        <a href="/@mildsalmon">
            
            <div class="back-image thumb comment-thumb" style="background-image:url(https://static.blex.me/avatar/u/mildsalmon/WgGq.png)"></div>
            
        </a>
        <a class="font-weight-bold deep-dark" href="/@mildsalmon">mildsalmon</a>
        <br>
        <small>1주, 5일전</small>
        <ul class="none-list">
        
            
        
        </ul>
        <div class="mt-3 noto"><p>다른 곳에는 없는 다대다 방식이 blex만의 개성이라고 생각할 수도 있겠네요 !</p></div>
        <ul class="none-list">
            <li>
                <a class="shallow-dark" href="javascript:void(0);" onclick="Comment.like(222)">
                    <i class="fas fa-angle-up"></i> <span id="clc222">1</span>
                </a>
            </li>
            
        </ul>
    </div>
</div>
                
                    <div>
    <div class="comment-list s-shadow">
        <a href="/@baealex">
            
            <div class="back-image thumb comment-thumb" style="background-image:url(https://static.blex.me/avatar/u/baealex/nJBQ.png)"></div>
            
        </a>
        <a class="font-weight-bold deep-dark" href="/@baealex">baealex</a>
        <br>
        <small>1주, 5일전</small>
        <ul class="none-list">
        
            
        
        </ul>
        <div class="mt-3 noto"><p>@mildsalmon 저도 그렇게 생각했는데 생각보다 쓸일이 없더라구요 😂</p></div>
        <ul class="none-list">
            <li>
                <a class="shallow-dark" href="javascript:void(0);" onclick="Comment.like(223)">
                    <i class="fas fa-angle-up"></i> <span id="clc223">0</span>
                </a>
            </li>
            
        </ul>
    </div>
</div>
                
            </div>
            
            
            
            <input type="hidden" name="csrfmiddlewaretoken" value="JCfTwWEcgM2LEVchDqy3gN54vri2NitpUmt0wkNgBbNzfSHOcRMbJyb7fcytzrP2">
            <div class="alert alert-warning s-shadow">로그인된 사용자만 댓글을 작성할 수 있습니다.</div>
            
        
        </div>
    </div>
</div>

        
    
    
    <footer class="page-footer font-small bg-theme">
    
        <div class="footer-copyright text-center py-3">Copyright 2019 &copy; <a style="color:#fff" href="https://im.baejino.com">BaeJino</a>.
    </div>
</footer>

    <div id="notify-content"></div>
    <script type="text/javascript" src="https://static.blex.me/assets/library/jquery.js"></script>
    <script type="text/javascript" src="https://static.blex.me/assets/library/bootstrap.js"></script>
    <script type="text/javascript" src="https://static.blex.me/assets/js/common.js?v=2"></script>
    <script type="text/javascript" src="https://static.blex.me/assets/js/render.js?v=2"></script>
    <script type="text/javascript" src="https://static.blex.me/assets/js/action.js?v=2"></script>
    <script type="text/javascript" src="https://static.blex.me/assets/js/event.js?v=2"></script>
    <script type="text/javascript">
    $(document).ready(function() {
        var csrftoken = getCookie('csrftoken');
        $.ajaxSetup({
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
    });
    </script>
    
<script type="text/javascript" src="https://static.blex.me/assets/library/prism.js"></script>
<script type="text/javascript" src="https://static.blex.me/assets/library/autolink.js"></script>
<script>
    autolink($('#comment'));
</script>

<script type="text/javascript" src="https://static.blex.me/assets/js/navigation.js?v=2"></script>


    
</body>
</html>
